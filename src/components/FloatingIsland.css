/* src/components/FloatingIsland.css (Overhauled) */

/* --- Keyframe for the active icon's pulse --- */
@keyframes active-pulse {
  0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
  100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
}

/* --- Main Island Container --- */
.floating-island {
  position: fixed;
  top: 50%;
  right: 5%; /* MOVED: 5% from the right edge */
  transform: translateY(-50%);
  
  /* THEME: Opaque black background */
  background-color: rgba(10, 10, 10, 0.75);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  
  /* THEME: Subtle green border and glow */
  border: 1px solid rgba(34, 197, 94, 0.2);
  border-radius: 9999px; /* Pill shape */
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 
              inset 0 0 10px rgba(34, 197, 94, 0.1);
  
  padding: 12px 8px;
  z-index: 1000;
  
  /* ANIMATION: Custom transition for a smooth, elastic feel */
  /* Ensure transform and backdrop-filter are included in the transition */
  transition: all 0.5s cubic-bezier(0.22, 1, 0.36, 1),
              transform 0.5s cubic-bezier(0.22, 1, 0.36, 1),
              backdrop-filter 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.floating-island ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  align-items: center; /* Center icons within the pill */
  gap: 12px; /* Spacing between icons */
  transition: gap 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.floating-island li {
  margin: 0;
  padding: 0;
  display: block;
}

/* --- Navigation Links --- */
.floating-island li a {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  text-decoration: none;
  background-color: transparent;
  border: none;
  cursor: pointer;
  position: relative;

  /* THEME: Default icon color */
  color: #a3a3a3; 
  
  /* ANIMATION: Smooth transitions for icons */
  transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
}

/* --- Active & Hover States --- */

/* ACTIVE: The current page's icon */
.floating-island li a.active {
  background-color: #22c55e; /* THEME: Vibrant green */
  color: #ffffff;
  transform: scale(1.1);
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
  /* ANIMATION: Add a subtle pulse */
  animation: active-pulse 2s infinite cubic-bezier(0.22, 1, 0.36, 1);
}

/* HOVER: Any non-active icon */
.floating-island li a:not(.active):hover {
  background-color: rgba(34, 197, 94, 0.15);
  color: #e5e5e5;
  transform: scale(1.15);
}

/* --- Tooltip --- */
.nav-tooltip {
  position: absolute;
  top: 50%;
  right: 140%; /* Position further to the left */
  transform: translateY(-50%);
  
  /* THEME: Dark, themed tooltip */
  background-color: #1f1f1f;
  color: #e5e5e5;
  border: 1px solid rgba(34, 197, 94, 0.2);
  
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 500;
  white-space: nowrap;
  
  opacity: 0;
  visibility: hidden;
  transform: translateY(-50%) translateX(15px); /* Start further away */
  pointer-events: none;
  transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
}

.floating-island li a:hover .nav-tooltip {
  opacity: 1;
  visibility: visible;
  transform: translateY(-50%) translateX(0px); /* Animate into view */
}

/* --- Main Icon Styling --- */
.nav-icon {
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* =================================================== */
/* --- DESKTOP HOVER ANIMATION (Focus & Enlarge) --- */
/* =================================================== */
@media (min-width: 1024px) {
  /* Default "OUT OF FOCUS" state for the island */
  .floating-island {
    /* Combine transforms: keep vertical center, add scale */
    transform: translateY(-50%) scale(0.8);
    
    /* "Out of focus" look */
    backdrop-filter: blur(4px);
    opacity: 0.8;
  }
  
  /* "IN FOCUS" (enlarged) state on hover */
  .floating-island:hover {
    /* Enlarge to 100% */
    transform: translateY(-50%) scale(1);

    /* "In focus" look */
    backdrop-filter: blur(8px);
    opacity: 1;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7), 
                inset 0 0 15px rgba(34, 197, 94, 0.2);
  }

  /* The <li><a> and <li><a>:hover rules are no longer needed
     as the icons will scale with the parent container. */
}